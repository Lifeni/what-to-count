{
  "version": 3,
  "sources": ["../src/main/preload.ts"],
  "sourcesContent": ["import { contextBridge, ipcRenderer } from 'electron'\r\nimport log from 'electron-log'\r\nimport fs from 'fs'\r\n\r\ncontextBridge.exposeInMainWorld('log', log.functions)\r\n\r\ncontextBridge.exposeInMainWorld('store', {\r\n  get: async (key: string) => await ipcRenderer.invoke('store', 'get', key),\r\n  set: async (key: string, value: any) =>\r\n    await ipcRenderer.invoke('store', 'set', key, value),\r\n  all: async () => await ipcRenderer.invoke('store', 'get-all'),\r\n  del: async (key: string) => await ipcRenderer.invoke('store', 'del', key),\r\n})\r\n\r\ncontextBridge.exposeInMainWorld('electron', {\r\n  setView: (name: string, value: string) =>\r\n    ipcRenderer.send('view', name, value),\r\n  exportRecord: (logs: string, stats: string, name: string) => {\r\n    ipcRenderer.send('export', name)\r\n    ipcRenderer.once('export-reply', (e, result, file) => {\r\n      if (result !== 0) {\r\n        switch (result) {\r\n          case 1:\r\n            // UTF-8 BOM \u9632\u6B62 Excel \u4E71\u7801\r\n            fs.writeFileSync(file, '\\ufeff' + logs, 'utf8')\r\n            break\r\n          case 2:\r\n            fs.writeFileSync(file, '\\ufeff' + stats, 'utf8')\r\n            break\r\n        }\r\n      }\r\n    })\r\n  },\r\n  showConfirm: (message: string, action: () => void) => {\r\n    ipcRenderer.send('confirm', message)\r\n    ipcRenderer.once('confirm-reply', (e, result) => {\r\n      if (result) action()\r\n    })\r\n  },\r\n})\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA,sBAA2C;AAC3C,0BAAgB;AAChB,gBAAe;AAEf,8BAAc,kBAAkB,OAAO,4BAAI;AAE3C,8BAAc,kBAAkB,SAAS;AAAA,EACvC,KAAK,OAAO,QAAgB,MAAM,4BAAY,OAAO,SAAS,OAAO;AAAA,EACrE,KAAK,OAAO,KAAa,UACvB,MAAM,4BAAY,OAAO,SAAS,OAAO,KAAK;AAAA,EAChD,KAAK,YAAY,MAAM,4BAAY,OAAO,SAAS;AAAA,EACnD,KAAK,OAAO,QAAgB,MAAM,4BAAY,OAAO,SAAS,OAAO;AAAA;AAGvE,8BAAc,kBAAkB,YAAY;AAAA,EAC1C,SAAS,CAAC,MAAc,UACtB,4BAAY,KAAK,QAAQ,MAAM;AAAA,EACjC,cAAc,CAAC,MAAc,OAAe,SAAiB;AAC3D,gCAAY,KAAK,UAAU;AAC3B,gCAAY,KAAK,gBAAgB,CAAC,GAAG,QAAQ,SAAS;AACpD,UAAI,WAAW,GAAG;AAChB,gBAAQ;AAAA,eACD;AAEH,8BAAG,cAAc,MAAM,WAAW,MAAM;AACxC;AAAA,eACG;AACH,8BAAG,cAAc,MAAM,WAAW,OAAO;AACzC;AAAA;AAAA;AAAA;AAAA;AAAA,EAKV,aAAa,CAAC,SAAiB,WAAuB;AACpD,gCAAY,KAAK,WAAW;AAC5B,gCAAY,KAAK,iBAAiB,CAAC,GAAG,WAAW;AAC/C,UAAI;AAAQ;AAAA;AAAA;AAAA;",
  "names": []
}
